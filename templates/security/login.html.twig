{% extends 'base.html.twig' %}

{% block title %}Security :: Connexion{% endblock %}

{% block body %}
    <main>
        <div class="row search">
          <div class="col-12 col-md-10 col-lg-8 col-xl-6 offset-md-1 offset-lg-2 offset-xl-3">

              <div class="card">
                  <div class="card-body formulaire">
                      <form method="post">
                          {% if error %}
                              <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                          {% endif %}

                          {% if app.user %}
                              <div class="mb-3">
                                  You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
                              </div>
                          {% endif %}

                          <h1 class="h3 mb-5 cad-title">Connexion</h1>
                          <div class="row form-group">
                              <div class="form-floating mb-3">
                                  <input type="text" value="{{ last_username }}" name="_username" id="username" class="form-control" autocomplete="username" placeholder="Nom utilisateur" required autofocus>
                                  <label for="username">Nom utilisateur</label>
                              </div>
                              <div class="form-floating mb-3">
                                  <input type="password" name="_password" id="password" class="form-control" autocomplete="current-password" placeholder="Mot de passe" required>
                                  <label for="password">Mot de passe</label>
                              </div>
                          </div>

                          <input type="hidden" name="_csrf_token"
                                 value="{{ csrf_token('authenticate') }}"
                          >

                          {#
                          Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                          See https://symfony.com/doc/current/security/remember_me.html
                          #}

                          <div class="form-check form-switch mb-3 text-start">
                              <input type="checkbox" name="_remember_me" id="_remember_me" class="form-check-input" role="switch">
                              <label for="_remember_me" class="form-check-label">Se souvenir de moi</label>
                          </div>

                          <div class="d-grid gap-2">
                              <button class="btn btn-lg btn-primary" type="submit">
                                  Connexion
                              </button>
                          </div>


                      </form>
                  </div>
              </div>

          </div>
        </div>
    </main>
{% endblock %}
